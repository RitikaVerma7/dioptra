# NOTICE
#
# This software (or technical data) was produced for the U. S. Government under
# contract SB-1341-14-CQ-0010, and is subject to the Rights in Data-General Clause
# 52.227-14, Alt. IV (DEC 2007)
#
# Â© 2021 The MITRE Corporation.
name: tensorflow-imagenet-patches

entry_points:
  pt:
    parameters:
      data_dir: {type: path, default: "/nfs/data"}
      model: {type: string, default: "patch-defended/1"}
      model_architecture: {type: string, default: "alex_net"}
      batch_size: {type: float, default: 32}
      th: {type: float, default: 1}
      es: {type: float, default: 1}
    command: >
      python src/pt.py
      --data-dir {data_dir}
      --model {model}
      --model-architecture {model_architecture}
      --batch-size 25
      --th 10
      --es 0
  init_model:
    parameters:
      data_dir: {type: path, default: "/nfs/data"}
      dataset_name: {type: string, default: "regular_data"}
    command: >
      python src/init_model.py
  test_pt_gen:
    parameters:
      data_dir: {type: path, default: "/nfs/data"}
      dataset_name: {type: string, default: "adv_testing_pt"}
    command: >
      python src/init_model.py
